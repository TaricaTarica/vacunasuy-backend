<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	<h:head>
		<title>Vacunas</title>
	</h:head>
	<h:body>
		<h:form id="VacunaListarForm">
			<div>
				<p:dataTable id="VacunaTabla" var="vacuna"
				value="#{vacunaBean.vacunas}" paginator="true" rows="6"
        		paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
        		<f:facet name="header">Listado de Vacunas </f:facet>
        		<p:column headerText="Nombre">
					<h:outputText value="#{vacuna.nombre}" />
				</p:column>
				<p:column headerText="Codigo">
					<h:outputText value="#{vacuna.codigo}" />
				</p:column>
				<p:column headerText="Laboratorio">
					<h:outputText value="#{vacuna.laboratorio}" />
				</p:column>
				
					<f:facet name="footer">
						<div style="display: flex; align-items: center;justify-content: center;">
						
							<p:commandButton value="Agregar Vacuna"
								actionListener="#{vacunaBean.reiniciarVacuna}"
								oncomplete="PF('vacunaDialog').show()" />
						</div>
					</f:facet>
				</p:dataTable>
			</div>
		</h:form>
		
		<p:dialog id="vacunaDlg" widgetVar="vacunaDialog" header="Agregar Vacuna" modal="true" showEffect="fade" 
        hideEffect="fade" resizable="false" >
            <h:form id="dialogForm">
              <p:panel header="Nueva Vacuna" style="margin-bottom:10px;">
                <p:outputPanel id="vacunaDetail" style="text-align: center">
                    <p:panelGrid id="display" columns="4" columnClasses="label, value" >
                        <h:outputText value="Nombre Vacuna" />
                        <h:inputText value="#{vacunaBean.vacuna.nombre}" />
                           <h:outputText value="codigo de Vacuna" />
                        <h:inputText value="#{vacunaBean.vacuna.codigo}" />
                           <h:outputText value="Nombre de Laboratorio" />
                        <h:inputText value="#{vacunaBean.vacuna.laboratorio}" />
                        
                        
                       <h:outputLabel for="enfermedad" value="Enfermedad:"/>
			                <p:selectOneMenu id="enfermedad" value="#{vacunaBean.nombreEnfermedad}" required="true" requiredMessage="Debe seleccionar un Porveedor" style="width:15rem">
			                    <f:selectItem itemLabel="Selecciona Enfermedad" itemValue="" noSelectionOption="true"/>
			                    <f:selectItems value="#{vacunaBean.enfermedades}"/>
			                </p:selectOneMenu>
			                
			           <h:outputLabel for="proveedor" value="Proveedor:"/>
			                <p:selectOneMenu id="proveedor" value="#{vacunaBean.nombreProveedor}" required="true" requiredMessage="Debe seleccionar un Porveedor" style="width:15rem">
			                    <f:selectItem itemLabel="Selecciona Proveedor" noSelectionOption="true"/>
			                    <f:selectItems value="#{vacunaBean.proveedores}"/>
			                </p:selectOneMenu>
               
                        <f:facet name="footer" >
                            <p:commandButton   icon="pi pi-check" value="Agregar" actionListener="#{vacunaBean.agregarVacuna()}" 
                             update="display,:VacunaListarForm:VacunaTabla" oncomplete="PF('vacunaDialog').hide();"/>
                        </f:facet>
                    </p:panelGrid>
                </p:outputPanel>
              </p:panel>
            </h:form>
        </p:dialog>
        
	</h:body>
</html>